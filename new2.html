<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP Methods Explained</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f4f8;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        h1, h2, h3 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-top: 20px;
        }

        p, ul, ol {
            margin-bottom: 15px;
        }

        .section {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #ecf0f1;
            border-left: 5px solid #3498db;
            border-radius: 8px;
        }

        .code-block {
            background-color: #2d2d2d;
            color: #f1f1f1;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
        }

        .code-block h4 {
            color: #3498db;
            margin-top: 0;
        }

        .interactive-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding: 20px;
            background-color: #ecf0f1;
            border-radius: 8px;
            border: 1px solid #bdc3c7;
        }

        .interactive-form input,
        .interactive-form button,
        .interactive-form select {
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #bdc3c7;
            font-size: 16px;
            width: 100%;
            box-sizing: border-box;
        }

        .interactive-form button {
            cursor: pointer;
            background-color: #3498db;
            color: #fff;
            border: none;
            transition: background-color 0.3s ease;
        }

        .interactive-form button:hover {
            background-color: #2980b9;
        }

        .result-box {
            margin-top: 20px;
            padding: 20px;
            background-color: #d1f0d1;
            border: 1px solid #27ae60;
            border-radius: 8px;
        }
        
        #interactive-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .comparison h4 {
            margin-top: 0;
            color: #2c3e50;
        }

        .put-post-patch, .get-head {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .put-post-patch div, .get-head div {
            flex: 1;
            min-width: 300px;
            padding: 15px;
            background-color: #ecf0f1;
            border-radius: 8px;
            border: 1px solid #bdc3c7;
        }

        .method-explanation {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .gemini-container {
            margin-top: 20px;
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
        }
        .gemini-textarea {
            width: 100%;
            height: 100px;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
            resize: vertical;
            font-size: 16px;
            box-sizing: border-box;
        }
        .gemini-result {
            background-color: #ffffff;
            border-left: 4px solid #3498db;
            padding: 15px;
            border-radius: 4px;
            margin-top: 15px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* New Animation Section Styles */
        .animation-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            background-color: #f0f4f8;
            border-radius: 8px;
            border: 1px solid #bdc3c7;
        }

        .animation-scene {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 200px;
            background-color: #fff;
            border: 2px solid #333;
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 50px;
        }

        .entity {
            width: 100px;
            height: 100px;
            background-color: #2c3e50;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 1.2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .request-box {
            position: absolute;
            left: calc(50% - 50px);
            width: 100px;
            height: 50px;
            background-color: #e74c3c;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-weight: bold;
            opacity: 0;
            transform: translateX(-200px);
        }

        .response-box {
            position: absolute;
            left: calc(50% - 50px);
            width: 100px;
            height: 50px;
            background-color: #2ecc71;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-weight: bold;
            opacity: 0;
            transform: translateX(200px);
        }

        @keyframes sendRequest {
            0% { transform: translateX(-200px); opacity: 0; }
            50% { transform: translateX(0); opacity: 1; }
            100% { transform: translateX(200px); opacity: 0; }
        }

        @keyframes sendResponse {
            0% { transform: translateX(200px); opacity: 0; }
            50% { transform: translateX(0); opacity: 1; }
            100% { transform: translateX(-200px); opacity: 0; }
        }

        .animate-request {
            animation: sendRequest 2s ease-in-out forwards;
        }

        .animate-response {
            animation: sendResponse 2s ease-in-out forwards;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>A Deep Dive into HTTP Methods</h1>
            <p>A comprehensive guide to understanding HTTP methods, their differences, and practical applications with JavaScript examples.</p>
        </header>

         <section class="section">
            <h2>HTTP Methods in Action: Code and Concepts</h2>
            <p>Select an HTTP method from the dropdown to see its explanation and a side-by-side code example for both the frontend (client) and backend (server), both written in JavaScript.</p>
            <div class="interactive-form">
                <select id="methodSelect" onchange="updateMethodContent()">
                    <option value="GET">GET</option>
                    <option value="POST">POST</option>
                    <option value="PUT">PUT</option>
                    <option value="PATCH">PATCH</option>
                    <option value="DELETE">DELETE</option>
                    <option value="HEAD">HEAD</option>
                    <option value="OPTIONS">OPTIONS</option>
                    <option value="TRACE">TRACE</option>
                </select>
            </div>
            <div id="interactive-section">
                <h3 id="methodTitle">GET Method</h3>
                <p id="methodDescription">The <code>GET</code> method is used to retrieve data from a server. It should not be used for any operation that changes the server's state. It's safe and idempotent.</p>
                <div class="method-explanation">
                    <div class="code-block">
                        <h4>Frontend (Client-side) JavaScript</h4>
                        <pre id="frontendCode"><code>
// Client requests data for post with ID 1
fetch('/api/posts/1')
    .then(response => response.json())
    .then(data => console.log('GET response:', data));
                        </code></pre>
                    </div>
                    <div class="code-block">
                        <h4>Backend (Server-side) JavaScript</h4>
                        <pre id="backendCode"><code>
// A basic mock server to handle a GET request
// (Conceptual example using Node.js)
const express = require('express');
const app = express();
const posts = [{ id: 1, title: 'Example' }];

app.get('/api/posts/:id', (req, res) => {
    const postId = parseInt(req.params.id);
    const post = posts.find(p => p.id === postId);
    if (post) {
        res.status(200).json(post);
    } else {
        res.status(404).json({ message: 'Not Found' });
    }
});

app.listen(3000, () => console.log('Server running on port 3000'));
                        </code></pre>
                    </div>
                </div>
            </div>
        </section>
        <section class="section">
            <h2>Animated HTTP Methods Flow</h2>
            <p>Select a method and watch the animated flow of how a request travels from the client to the server and back.</p>
            <div class="interactive-form">
                <select id="animationMethodSelect" onchange="animateMethod()">
                    <option value="GET">GET</option>
                    <option value="POST">POST</option>
                    <option value="PUT">PUT</option>
                    <option value="PATCH">PATCH</option>
                    <option value="DELETE">DELETE</option>
                    <option value="HEAD">HEAD</option>
                    <option value="OPTIONS">OPTIONS</option>
                    <option value="TRACE">TRACE</option>
                </select>
            </div>
            <div class="animation-container">
                <div class="animation-scene">
                    <div class="entity">Client</div>
                    <div id="requestBox" class="request-box"></div>
                    <div id="responseBox" class="response-box"></div>
                    <div class="entity">Server</div>
                </div>
                <div class="result-box" id="animationResultBox">
                    <h3>Animation Log:</h3>
                    <p id="animationStatus">Select a method to begin the animation.</p>
                </div>
            </div>
        </section>
    </div>

   <script>
    // --- Data for the dynamic code examples section ---
    const methodData = {
        GET: {
            title: "GET Method",
            description: "The <code>GET</code> method is used to retrieve data from a server. It should not be used for any operation that changes the server's state. It's safe and idempotent.",
            frontend: `
// Client requests data for post with ID 1
fetch('/api/posts/1')
    .then(response => response.json())
    .then(data => console.log('GET response:', data));
            `,
            backend: `
// A basic mock server to handle a GET request
// (Conceptual example using Node.js)
const express = require('express');
const app = express();
const posts = [{ id: 1, title: 'Example' }];

app.get('/api/posts/:id', (req, res) => {
    const postId = parseInt(req.params.id);
    const post = posts.find(p => p.id === postId);
    if (post) {
        res.status(200).json(post);
    } else {
        res.status(404).json({ message: 'Not Found' });
    }
});

app.listen(3000, () => console.log('Server running on port 3000'));
            `
        },
        POST: {
            title: "POST Method",
            description: "The <code>POST</code> method is used to send data to the server to create a new resource.",
            frontend: `
// Client sends data to create a new post
const newPost = { title: 'New Post', body: 'This is the body.' };
fetch('/api/posts', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(newPost)
})
.then(response => response.json())
.then(data => console.log('POST response:', data));
            `,
            backend: `
// A basic mock server to handle a POST request
// (Conceptual example using Node.js)
const express = require('express');
const app = express();
const posts = []; // In a real app, this would be a database

app.post('/api/posts', (req, res) => {
    const newPost = { id: Date.now(), ...req.body };
    posts.push(newPost);
    res.status(201).json(newPost);
});

app.listen(3000, () => console.log('Server running on port 3000'));
            `
        },
        // Add the other methods as you had before (PUT, PATCH, DELETE, HEAD, OPTIONS, TRACE)â€¦
    };

    // --- Update code block content when dropdown changes ---
    function updateMethodContent() {
        const selectElement = document.getElementById('methodSelect');
        const selectedMethod = selectElement.value;
        const data = methodData[selectedMethod];

        document.getElementById('methodTitle').innerText = data.title;
        document.getElementById('methodDescription').innerHTML = data.description;
        document.getElementById('frontendCode').querySelector('code').innerText = data.frontend;
        document.getElementById('backendCode').querySelector('code').innerText = data.backend;
    }

    // --- Animation Functions ---
    function animateMethod() {
        const method = document.getElementById('animationMethodSelect').value;
        const requestBox = document.getElementById('requestBox');
        const responseBox = document.getElementById('responseBox');
        const statusText = document.getElementById('animationStatus');

        // Reset animation
        requestBox.style.animation = 'none';
        responseBox.style.animation = 'none';
        void requestBox.offsetWidth; // Trigger reflow
        void responseBox.offsetWidth;

        requestBox.style.opacity = '0';
        responseBox.style.opacity = '0';
        requestBox.innerText = '';
        responseBox.innerText = '';

        statusText.innerText = `Sending ${method} request...`;

        // Request animation
        setTimeout(() => {
            requestBox.innerText = method;
            requestBox.style.animation = 'sendRequest 2s ease-in-out forwards';
        }, 100);

        // Response animation
        setTimeout(() => {
            const response = getMethodResponse(method);
            responseBox.innerText = response;
            responseBox.style.animation = 'sendResponse 2s ease-in-out forwards';
            statusText.innerText = `Server responded with ${response}!`;
        }, 2100);
    }

    function getMethodResponse(method) {
        switch (method) {
            case 'GET': return '200 OK';
            case 'POST': return '201 Created';
            case 'PUT': return '200 OK';
            case 'PATCH': return '200 OK';
            case 'DELETE': return '204 No Content';
            case 'HEAD': return '200 OK';
            case 'OPTIONS': return '204 No Content';
            case 'TRACE': return '200 OK';
            default: return '...';
        }
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
        updateMethodContent();
    });
</script>

</body>
</html>
